# E-commerce — Выявление профилей потребления¶
## Описание проекта
Сегментировать покупателей по профилю потребления

* Провести исследовательский анализ данных
* Сегментировать покупателей на основе истории их покупок
* Сформулировать и проверьте статистические гипотезы
## Инструменты
Python, sklearn, pandas , scipy, seaborn, matplotlib, numpy
## Выводы
При первом знакомстве с данными видим, что явных пропусков не обнаружено, нужно привести колонку даты в необходимый для работы формат. Далее в предобработке проверим дубликаты и пропуски.


Краткий вывод по предобработке данных:
* Привел колонку даты к типу даты
* Явные дубликаты отсутсвуют
* Пропурски отсутсвуют
* Удалены неявные дубликаты (или дубликаты вызванные сбоем). Т.к. на каждую транзакцию подразумевается уникальный номер заказа. Так же у разных клиентов не может быть одинакового номера заказа.
* Удалено 1912 строк. 25.6% от всего датасета
* Проверена вводная метрика " 1 заказ - 1 клиент" и "1 заказ - 1 дата"
* Удалено строки с одинаковым номером заказа и ID клиента, но с разным количеством товара и разной датой

Выводы по блоку исследовательский анализ:

* Удалил ID клиента с заказом с 1 заказом в размере 675000. единственный крупный выброс отличный от всего датасета
* Удалил ID со значением в 143 заказа, единственный крупный выброс отличный от всего датасета
* На графике видно, что большинство заказов располагается в пределах до 10000
* по стоимости заказа: 5% заказов более 3749, 1% заказов стоимостью свыше 7603. Среднее значение на уровне 1110, при этом медиана проходит на уровне 568
* Из графика видно, что приемущественно ползователи делают малое количество заказов
* 95% пользователей совершают до 2 заказов, 1% пользователей делает более 3 заказов. Среднее количество заказов 1.39, медианное значение на уровне 1 заказа.
* Значения среднего чека нормально распределены
* 5% пользователей со средним чеком выше 3668. 1% пользовотелей имеет средний чек по заказам выше 7710. Среднее значение находится на уровне 1165, медианное значение 644.5. Данная метрика для анализа получилась не очень информативная, ввиду малого количества заказов.
* Удалены выбросы, которые превышают значения больше 99% от датасета. Больше 3 заказов на 1 пользователя, стоимость заказа выше 7603

Выводы по блоку сегментация пользователей по профилю

* Сегментировал пользователей с помощью RFM-анализа. Он делит пользователей на сегменты в зависимости от давности (Recency), частоты (Frequency) и общей суммы платежей (Monetary).
* Рассмотрел первые 5 профилей с бОльшим количеством пользователей

    * 323 - пользователи совершали недавно покупки, 1-2 заказа, с высоким средним чеком
    * 211 - Пользователи совершали покупки давно от полугода до года. 1 заказ, низкий средний чек.
    * 111 - пользователи совершали очень давно покупку, не более 1 заказа, с низким чеком
    * 112 - пользователи совершали очень давно покупку, не более 1 заказа, со средним средним чеком
    * 322 - пользователи совершали недавно покупки, 1-2 заказа, со средним средним чеком
    * При использовании RFM - анализа получилось большое количество профилей, вероятно такая детализация не слишком удобна, попробуем укрупнить профиль пользователей.
    

При использовании RFM - анализа получилось большое количество профилей, вероятно такая детализация не слишком удобна, попробуем укрупнить профиль пользователей.
    
* Укрупнил профили пользователей для удобства
* Кластерезировал пользователей на основании алгоритма K-Means
* Мы получили 2 кластера.

    * 0 кластер - "Новички". Последний заказ делали недавно, в среднем 2 заказа, средний чек  средний относительено всех пользователей. Самый большой профиль.
    * 1 кластер - "Спящие". Последний заказ делали очень давно, заказы не частые в среднем 1 заказ, средний чек выше среднего относительено всех пользователей.
    
* На графике видно кластер 0 и 1 сгруппированы на графике в одном месте, делают мало заказов и на небольшую сумму
* На графике видно 1 кластер делал заказы давно и в небольшом количестве, кластер 0 делал заказы недавно.

    
* Проведена сегментацияпользователей по потребительскому профилю
* Сгруппировал заказы по месяцам и посмотрим как распределены заказы
* Видно, что закакзы в категории растений - сезонные пик с октября по январь и к лету количество заказов спадает. К концу года увеличивается количество заказов по категории хоз.товары (вероятно присутсвует большое количество акций в период перед новым годом).В категори товаров декор/мебель видно просадка в заказах летом. Категория посуда кухня аналогично, просадка в заказах летом
* Кластерезировал пользователей на основании алгоритма K-Means
* Мы получили 5 кластеров.
    * 0 кластер "растения". В среднем делают около 1.3 заказов, в среднем 5 позиций в заказе. Средняя стоимость в заказе 1012
    * 1 кластер "хозтовары". В среднем делают 1.4 заказа, в среднем 3.8 позиций в заказе. Средняя стоимость в заказе 1841
    * 2 кластер "другое". В среднем делают 1.36 заказа, в среднем 4.8 позиций в заказе. Средняя стоимость в заказе 1300
    * 3 кластер "посуда/кухня". В среднем делают 1.3 заказа, в среднем 4.45 позиций в заказе. Средняя стоимость в заказе 1112
    * 4 кластер "декор/мебель". В среднем делают 1.3 заказа, в среднем 4.5 позиций в заказе. Средняя стоимость в заказе 1355

Выводы по блоку проверка гипотез

* Статистически значимых различий нет только между кластерами 0-2, 0-3, 2-3, 2-4 и 3-4, по всем остальным сравнениям средняя сумма затрат пользователей кластеров имеют статистически значемые различия

 Рекомендации:

* Для повышения продаж можно провести таргетирование по профилям.
* Стоит обратить внимание на большой сегмент "спящих" пользователей, смотивировать их вновь совершать покупки
* Для кластеров по профилю потребления реккомендуется увеличить количество заказов. так же к сезонным кластерам можно направить сезонный таргетинг
* для более детального анализа можно соеденить RFM-анализ и профили по потреблению
